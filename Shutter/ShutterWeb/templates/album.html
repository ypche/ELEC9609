{% extends 'base.html' %}

{% block title %}Album{% endblock %}

{% block customcss %}

{% endblock %}

{% block MainBody %}

{% load static %}

<main role="main">
  <!-- select from scenery and people types of photos -->
  <section class="jumbotron text-center text-white"
           style="background-image:url({% static 'images/background.jpeg' %});
           background-position: center; background-repeat: no-repeat;">
    <div id="T1" class="container"  >
      <h1 class="jumbotron-heading">Album </h1>
      <p class="lead">Enjoy the world of color !</p>
      <p>
        {% if newest_scenery_photos or hottest_scenery_photos %}
          <a href="{% url 'album_scenery_new' %}" class="btn btn-primary">Scenery</a>
          <a href="{% url 'album_people_new' %}" class="btn btn-secondary">Portraiture</a>
        {% else %}
          <a href="{% url 'album_scenery_new' %}" class="btn btn-secondary">Scenery</a>
          <a href="{% url 'album_people_new' %}" class="btn btn-primary">Portraiture</a>
        {% endif %}
      </p>
    </div>
  </section>

  <!-- select how photos are sorted by newest or hottest -->
  <div class="album text-muted">
    <div class="container">
      <div class="row">
        <h1 class="col-lg-8">
          {% if newest_scenery_photos %}Newest Scenery
          {% elif hottest_scenery_photos%}Hottest Scenery
          {% elif newest_people_photos%}Newest Portraiture
          {% elif hottest_people_photos%}Hottest Portraiture
          {% endif %}
        </h1>
        <div class="col-sm-2 ">
          <div class="dropdown">
            <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Sort By</button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              {% if newest_scenery_photos %}
                <a class="dropdown-item" href="{% url 'album_scenery_new' %}">Newest</a>
                <a class="dropdown-item" href="{% url 'album_scenery_hot' %}">Hottest</a>
              {% elif hottest_scenery_photos%}
                <a class="dropdown-item" href="{% url 'album_scenery_new' %}">Newest</a>
                <a class="dropdown-item" href="{% url 'album_scenery_hot' %}">Hottest</a>
              {% elif newest_people_photos%}
                <a class="dropdown-item" href="{% url 'album_people_new' %}">Newest</a>
                <a class="dropdown-item" href="{% url 'album_people_hot' %}">Hottest</a>
              {% elif hottest_people_photos%}
                <a class="dropdown-item" href="{% url 'album_people_new' %}">Newest</a>
                <a class="dropdown-item" href="{% url 'album_people_hot' %}">Hottest</a>
              {% endif %}
            </div>
          </div>
        </div>

        <div class=" text-right">
            <button type="button" class="btn btn-primary" data-toggle="modal"
                    onclick="window.location.href='{% url 'album_upload_image' %}'">Upload a Photo
            </button>
        </div>
      </div>
      <br>
      {% if photos_list %}
        <div class="row" >
          {% for this_photo in photos_list %}
            <div class="card" style="width: 22rem; margin: 0.5rem; border: 0">
              <!--<a href="/ShutterWeb/album/photo/new">-->
              <a href="../../photo/{{ this_photo.id }}/">
                <!--<img class="card-img-top" alt="Card image cap" src="{% static 'images/1.jpeg' %}">-->
                <img class="card-img-top" alt="Card image cap"
                     src= "../../../../{{this_photo.image_path}}">
              </a>
              <div class="card-body">
                <h4 class="card-title text-center">{{ this_photo.photo_name}}</h4>
                <!--
                <p class="card-text">Testing Text
                  999999999999999999999999999999999999999999999999999999999999999999
                  99999999999999999999999999999</p>
                -->
              </div>
            </div>
          {% endfor %}
        </div>
        <!-- page in the bottom -->
        <ul class="pagination">
          <!--<span class="step-links">-->
            {% if photos_list.has_previous %}
              <a href="?page={{ photos_list.previous_page_number }}">Previous&nbsp</a>
            {% else %}
              <li class="disabled"><span>Previous&nbsp</span></li>
            {% endif %}

            {% for i in photos_list.paginator.page_range %}
              {% if photos_list.number == i %}
                <li class="active"><span> &nbsp{{ i }}&nbsp <span class="sr-only">(current)</span></span></li>
              {% else %}
                <li><a href="?page={{ i }}">{{ i }}</a></li>
              {% endif %}
            {% endfor %}

            {% if photos_list.has_next %}
              <a href="?page={{ photos_list.next_page_number }}">&nbsp Next</a>
            {% else %}
              <li class="disabled"><span>&nbsp Next</span></li>
            {% endif %}
          <!--</span>-->
        </ul>

      {% else %}
        <p>No photo yet! You could upload your own photos!</p>
      {% endif %}
    </div>
  </div>
</main>


{% endblock %}
